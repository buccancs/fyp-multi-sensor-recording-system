<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    tools:context=".ui.DiagnosticsActivity">

    <!-- Toolbar -->
    <com.google.android.material.appbar.MaterialToolbar
        android:id="@+id/toolbar"
        android:layout_width="match_parent"
        android:layout_height="?attr/actionBarSize"
        android:background="?attr/colorPrimary"
        android:theme="@style/ThemeOverlay.Material3.Dark.ActionBar"
        app:titleTextColor="?attr/colorOnPrimary"
        app:subtitleTextColor="?attr/colorOnPrimary" />

    <ScrollView
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:fillViewport="true">

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:padding="16dp">

            <!-- System Health Card -->
            <com.google.android.material.card.MaterialCardView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginBottom="16dp"
                app:cardElevation="4dp"
                app:cardCornerRadius="12dp">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:padding="16dp">

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="System Health"
                        android:textAppearance="?attr/textAppearanceHeadlineSmall"
                        android:textStyle="bold" />

                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="horizontal"
                        android:layout_marginTop="12dp">

                        <LinearLayout
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:orientation="vertical">

                            <TextView
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="Overall Status"
                                android:textAppearance="?attr/textAppearanceBodySmall" />

                            <TextView
                                android:id="@+id/systemHealthStatus"
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="Unknown"
                                android:textAppearance="?attr/textAppearanceHeadlineSmall"
                                android:textStyle="bold" />

                        </LinearLayout>

                        <LinearLayout
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:orientation="vertical">

                            <TextView
                                android:id="@+id/systemUptimeText"
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="System Uptime: --"
                                android:textAppearance="?attr/textAppearanceBodyMedium" />

                            <TextView
                                android:id="@+id/connectedDevicesText"
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:layout_marginTop="4dp"
                                android:text="Connected Devices: 0/5"
                                android:textAppearance="?attr/textAppearanceBodyMedium" />

                        </LinearLayout>

                    </LinearLayout>

                    <TextView
                        android:id="@+id/activeProcessesText"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="8dp"
                        android:text="Active Processes: --"
                        android:textAppearance="?attr/textAppearanceBodyMedium" />

                    <TextView
                        android:id="@+id/lastDiagnosticText"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="4dp"
                        android:text="Last Diagnostic: Never"
                        android:textAppearance="?attr/textAppearanceBodySmall"
                        android:textColor="?attr/colorOnSurfaceVariant" />

                </LinearLayout>

            </com.google.android.material.card.MaterialCardView>

            <!-- Performance Metrics Card -->
            <com.google.android.material.card.MaterialCardView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginBottom="16dp"
                app:cardElevation="4dp"
                app:cardCornerRadius="12dp">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:padding="16dp">

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Performance Metrics"
                        android:textAppearance="?attr/textAppearanceHeadlineSmall"
                        android:textStyle="bold" />

                    <!-- CPU Usage -->
                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="horizontal"
                        android:gravity="center_vertical"
                        android:layout_marginTop="12dp">

                        <TextView
                            android:id="@+id/cpuUsageText"
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:text="CPU Usage: 0%"
                            android:textAppearance="?attr/textAppearanceBodyMedium" />

                        <ProgressBar
                            android:id="@+id/cpuUsageProgress"
                            style="@android:style/Widget.ProgressBar.Horizontal"
                            android:layout_width="100dp"
                            android:layout_height="wrap_content"
                            android:max="100"
                            android:progress="0" />

                    </LinearLayout>

                    <!-- Memory Usage -->
                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="horizontal"
                        android:gravity="center_vertical"
                        android:layout_marginTop="8dp">

                        <TextView
                            android:id="@+id/memoryUsageText"
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:text="Memory Usage: 0%"
                            android:textAppearance="?attr/textAppearanceBodyMedium" />

                        <ProgressBar
                            android:id="@+id/memoryUsageProgress"
                            style="@android:style/Widget.ProgressBar.Horizontal"
                            android:layout_width="100dp"
                            android:layout_height="wrap_content"
                            android:max="100"
                            android:progress="0" />

                    </LinearLayout>

                    <!-- Storage Usage -->
                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="horizontal"
                        android:gravity="center_vertical"
                        android:layout_marginTop="8dp">

                        <TextView
                            android:id="@+id/storageUsageText"
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:text="Storage Usage: 0%"
                            android:textAppearance="?attr/textAppearanceBodyMedium" />

                        <ProgressBar
                            android:id="@+id/storageUsageProgress"
                            style="@android:style/Widget.ProgressBar.Horizontal"
                            android:layout_width="100dp"
                            android:layout_height="wrap_content"
                            android:max="100"
                            android:progress="0" />

                    </LinearLayout>

                    <!-- Battery Level -->
                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="horizontal"
                        android:gravity="center_vertical"
                        android:layout_marginTop="8dp">

                        <TextView
                            android:id="@+id/batteryLevelText"
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:text="Battery: 100%"
                            android:textAppearance="?attr/textAppearanceBodyMedium" />

                        <ProgressBar
                            android:id="@+id/batteryLevelProgress"
                            style="@android:style/Widget.ProgressBar.Horizontal"
                            android:layout_width="100dp"
                            android:layout_height="wrap_content"
                            android:max="100"
                            android:progress="100" />

                    </LinearLayout>

                    <!-- Additional Metrics -->
                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="horizontal"
                        android:layout_marginTop="8dp">

                        <TextView
                            android:id="@+id/networkBandwidthText"
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:text="Network: ↓0 KB/s ↑0 KB/s"
                            android:textAppearance="?attr/textAppearanceBodyMedium" />

                        <TextView
                            android:id="@+id/frameRateText"
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:text="Frame Rate: 0fps"
                            android:textAppearance="?attr/textAppearanceBodyMedium" />

                    </LinearLayout>

                </LinearLayout>

            </com.google.android.material.card.MaterialCardView>

            <!-- Error Logs Card -->
            <com.google.android.material.card.MaterialCardView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginBottom="16dp"
                app:cardElevation="4dp"
                app:cardCornerRadius="12dp">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:padding="16dp">

                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="horizontal"
                        android:gravity="center_vertical">

                        <TextView
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:text="Error Logs"
                            android:textAppearance="?attr/textAppearanceHeadlineSmall"
                            android:textStyle="bold" />

                        <com.google.android.material.button.MaterialButton
                            android:id="@+id/clearLogsButton"
                            style="@style/Widget.Material3.Button.OutlinedButton"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="Clear"
                            app:icon="@drawable/ic_clear" />

                    </LinearLayout>

                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="horizontal"
                        android:layout_marginTop="8dp">

                        <TextView
                            android:id="@+id/errorCountText"
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:text="Errors: 0"
                            android:textAppearance="?attr/textAppearanceBodyMedium"
                            android:textColor="?attr/colorError" />

                        <TextView
                            android:id="@+id/warningCountText"
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:text="Warnings: 0"
                            android:textAppearance="?attr/textAppearanceBodyMedium"
                            android:textColor="?attr/colorSecondary" />

                        <TextView
                            android:id="@+id/infoCountText"
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:text="Info: 0"
                            android:textAppearance="?attr/textAppearanceBodyMedium" />

                    </LinearLayout>

                    <ScrollView
                        android:layout_width="match_parent"
                        android:layout_height="120dp"
                        android:layout_marginTop="8dp"
                        android:background="?attr/colorSurfaceVariant"
                        android:padding="8dp">

                        <TextView
                            android:id="@+id/errorLogsText"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:text="No error logs available"
                            android:textAppearance="?attr/textAppearanceBodySmall"
                            android:fontFamily="monospace"
                            android:textColor="?attr/colorOnSurfaceVariant" />

                    </ScrollView>

                </LinearLayout>

            </com.google.android.material.card.MaterialCardView>

            <!-- Diagnostic Actions Card -->
            <com.google.android.material.card.MaterialCardView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginBottom="16dp"
                app:cardElevation="4dp"
                app:cardCornerRadius="12dp">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:padding="16dp">

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Diagnostic Actions"
                        android:textAppearance="?attr/textAppearanceHeadlineSmall"
                        android:textStyle="bold" />

                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="horizontal"
                        android:layout_marginTop="12dp">

                        <com.google.android.material.button.MaterialButton
                            android:id="@+id/runFullDiagnosticButton"
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:layout_marginEnd="4dp"
                            android:text="Full Diagnostic"
                            app:icon="@drawable/ic_diagnostic" />

                        <com.google.android.material.button.MaterialButton
                            android:id="@+id/refreshStatusButton"
                            style="@style/Widget.Material3.Button.OutlinedButton"
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:layout_marginStart="4dp"
                            android:text="Refresh"
                            app:icon="@drawable/ic_refresh" />

                    </LinearLayout>

                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="horizontal"
                        android:layout_marginTop="8dp">

                        <com.google.android.material.button.MaterialButton
                            android:id="@+id/testNetworkButton"
                            style="@style/Widget.Material3.Button.OutlinedButton"
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:layout_marginEnd="4dp"
                            android:text="Test Network"
                            app:icon="@drawable/ic_network" />

                        <com.google.android.material.button.MaterialButton
                            android:id="@+id/testDevicesButton"
                            style="@style/Widget.Material3.Button.OutlinedButton"
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:layout_marginStart="4dp"
                            android:layout_marginEnd="4dp"
                            android:text="Test Devices"
                            app:icon="@drawable/ic_devices" />

                        <com.google.android.material.button.MaterialButton
                            android:id="@+id/testPerformanceButton"
                            style="@style/Widget.Material3.Button.OutlinedButton"
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:layout_marginStart="4dp"
                            android:text="Performance"
                            app:icon="@drawable/ic_monitor" />

                    </LinearLayout>

                </LinearLayout>

            </com.google.android.material.card.MaterialCardView>

            <!-- Test Results Card -->
            <com.google.android.material.card.MaterialCardView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginBottom="16dp"
                app:cardElevation="4dp"
                app:cardCornerRadius="12dp">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:padding="16dp">

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Test Results"
                        android:textAppearance="?attr/textAppearanceHeadlineSmall"
                        android:textStyle="bold" />

                    <!-- Network Test Results -->
                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="12dp"
                        android:text="Network Tests"
                        android:textAppearance="?attr/textAppearanceBodyLarge"
                        android:textStyle="bold" />

                    <TextView
                        android:id="@+id/networkTestResults"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="4dp"
                        android:text="No network tests run"
                        android:textAppearance="?attr/textAppearanceBodySmall"
                        android:fontFamily="monospace"
                        android:textColor="?attr/colorOnSurfaceVariant" />

                    <!-- Device Test Results -->
                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="12dp"
                        android:text="Device Tests"
                        android:textAppearance="?attr/textAppearanceBodyLarge"
                        android:textStyle="bold" />

                    <TextView
                        android:id="@+id/deviceTestResults"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="4dp"
                        android:text="No device tests run"
                        android:textAppearance="?attr/textAppearanceBodySmall"
                        android:fontFamily="monospace"
                        android:textColor="?attr/colorOnSurfaceVariant" />

                    <!-- Performance Test Results -->
                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="12dp"
                        android:text="Performance Tests"
                        android:textAppearance="?attr/textAppearanceBodyLarge"
                        android:textStyle="bold" />

                    <TextView
                        android:id="@+id/performanceTestResults"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="4dp"
                        android:text="No performance tests run"
                        android:textAppearance="?attr/textAppearanceBodySmall"
                        android:fontFamily="monospace"
                        android:textColor="?attr/colorOnSurfaceVariant" />

                </LinearLayout>

            </com.google.android.material.card.MaterialCardView>

            <!-- Report Actions Card -->
            <com.google.android.material.card.MaterialCardView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginBottom="16dp"
                app:cardElevation="4dp"
                app:cardCornerRadius="12dp">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:padding="16dp">

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Reports &amp; Data"
                        android:textAppearance="?attr/textAppearanceHeadlineSmall"
                        android:textStyle="bold" />

                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="horizontal"
                        android:layout_marginTop="12dp">

                        <com.google.android.material.button.MaterialButton
                            android:id="@+id/generateReportButton"
                            style="@style/Widget.Material3.Button.OutlinedButton"
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:layout_marginEnd="4dp"
                            android:text="Generate Report"
                            app:icon="@drawable/ic_save" />

                        <com.google.android.material.button.MaterialButton
                            android:id="@+id/exportDiagnosticsButton"
                            style="@style/Widget.Material3.Button.OutlinedButton"
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:layout_marginStart="4dp"
                            android:layout_marginEnd="4dp"
                            android:text="Export Data"
                            app:icon="@drawable/ic_export" />

                        <com.google.android.material.button.MaterialButton
                            android:id="@+id/sendLogsButton"
                            style="@style/Widget.Material3.Button.OutlinedButton"
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:layout_marginStart="4dp"
                            android:text="Send Logs"
                            app:icon="@drawable/ic_upload" />

                    </LinearLayout>

                </LinearLayout>

            </com.google.android.material.card.MaterialCardView>

        </LinearLayout>

    </ScrollView>

</LinearLayout>